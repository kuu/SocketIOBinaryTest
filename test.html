<!DOCTYPE=html>
<body>
  <script>
    var ctx = new AudioContext();
    //var BUFFER_LENGTH = 16384;
    //var BUFFER_LENGTH = 8192;
    var BUFFER_LENGTH = 4096;
    //var BUFFER_LENGTH = 2048;
    //var BUFFER_LENGTH = 1024;
    //var BUFFER_LENGTH = 512;
    console.log('Buffer size is + ' + BUFFER_LENGTH);
    navigator.webkitGetUserMedia({audio: true}, function (stream) {
        var mediaStreamSource = ctx.createMediaStreamSource(stream);
        var scriptProcessor = ctx.createScriptProcessor(BUFFER_LENGTH, 1, 1);
        scriptProcessor.onaudioprocess = function (e) {
          console.log('>>');
        };
        scriptProcessor.connect(ctx.destination);
    }, function(e) {
      console.error('Unable to get audio input source.');
    });
  </script>
</body>
